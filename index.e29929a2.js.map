{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b6ee224b699dcb21.js","src/types/Actor.ts","src/FPSviewer.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-1d067be74c173b05.js","src/Mariana.ts","node_modules/@parcel/runtime-js/lib/runtime-b5cead3563b9fe5a.js","src/actorEvil.ts","node_modules/@parcel/runtime-js/lib/runtime-5737ec7a0c526525.js","src/Map.ts","src/script.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6qpDd\\\":\\\"index.e29929a2.js\\\",\\\"614g1\\\":\\\"andar_derc.ea772a08.png\\\",\\\"llezD\\\":\\\"goomba.81074050.png\\\",\\\"KA0Rm\\\":\\\"fondo_mario.8f24dba5.jpg\\\"}\"));","\nimport { Point } from \"./Point\";\n\nexport interface IActor {\n    origin: Point;\n    position: Point;\n    speed?: number;\n    update: (delta: number) => void;\n    initialize?: () => void;\n    keyboard_event: (key: string) => void;\n    keyboard_event_down?: (key: string) => void;\n    keyboard_event_up?: (key: string) => void;\n    draw: (delta: number, ctx: CanvasRenderingContext2D) => void;\n}\n\nexport class Actor implements IActor {\n    origin!: Point;\n    position!: Point;\n    contructor(origin: Point) {\n        this.origin = origin;\n    }\n    update(delta: number) { }\n    draw(delta: number, ctx: CanvasRenderingContext2D) { }\n    keyboard_event(key: string) { }\n}\n\nexport type Size = { w: number, h: number }","import { Point } from \"./types/Point\";\nimport { Actor } from \"./types/Actor\";\n\n\nexport class FPSviewer extends Actor {\n  position: Point;\n  color: string;\n  constructor(position: Point, color: string) {\n    super();\n    this.position = position;\n    this.color = color;\n\n  }\n\n  update() { }\n  keyboard_event() { }\n  draw(delta: number, ctx: CanvasRenderingContext2D) {\n    const fps = (1 / delta).toFixed(2);\n    ctx.font = \"18px Arial\";\n    ctx.fillStyle = this.color;\n    ctx.fillText(`FPS:${fps}`, this.position.x, this.position.y);\n  }\n}","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('6qpDd') + require('./helpers/bundle-manifest').resolve(\"614g1\");","import { IActor, Actor, Size } from \"./types/Actor\";\nimport { Point } from \"./types/Point\"\nimport { checkLimits } from \"./types/checkLimits\";//buscar para que vale\nimport Mariana_sprites_derecha from \"../img/andar_derc.png\";\n//import Mariana_sprites_izquierda from \"../img/andar_izq.png\";\nexport class Mariana extends Actor implements IActor {\n    origin: Point;\n    color: string;\n    speed: number;\n    saltando: boolean;\n    altura: number;\n    mariana_img_derc: HTMLImageElement;//preguntar public\n    //mariana_img_izq: HTMLImageElement;\n    frame_count = 0;\n    constructor({ initialPos, color = \"purple\", speed = 10 }: { initialPos: Point; color?: string; speed?: number; }) {\n        super();\n        this.origin = { x: initialPos.x, y: initialPos.y };\n        this.color = color;\n        this.speed = speed;\n        this.saltando = false;//estado espacio falso no pulsado\n        this.altura = 330;// la altura linea suelo es 384 y\n        this.frame_count = 0;\n        this.mariana_img_derc = new Image();\n        this.mariana_img_derc.src = Mariana_sprites_derecha;\n        //this.mariana_img_izq = new Image();\n        //this.mariana_img_izq.src = Mariana_sprites_izquierda;\n\n    }\n    update(delta: number) {\n        let newPosX = this.origin.x;\n        if (newPosX < 490 && newPosX > 10) {\n            this.speed = 10;\n\n        }\n        let newPosY = this.origin.y;\n\n        if (newPosY >= 540) {\n            this.saltando = false;\n            newPosY = 540;\n            this.speed = 0;\n        }\n        if (this.saltando) {\n            this.origin.y -= 1\n        }\n        if (this.origin.y == this.altura && this.saltando == true) {\n            for (let i = this.altura; i <= 470; i++) {\n                this.origin.y = i;\n            }\n            // this.origin.y += 1\n            this.origin.y = 470\n            this.saltando = false\n            this.origin.y = 384// altura a la que se situa la linea del suelo\n        }\n\n    }\n    initialize() {\n    }\n\n\n    draw(delta: number, ctx: CanvasRenderingContext2D) {\n        //let origin = this.origin;//add salto\n        const Mariana_frames_andar_derc = [\n            //Movimiento Andar a la derecho\n            { origin: { x: 0, y: 5 }, size: { x: 60, y: 50 } },// 1ºPOSICION\n            { origin: { x: 66, y: 5 }, size: { x: 60, y: 50 } },//2ºPOSICION\n            { origin: { x: 128, y: 5 }, size: { x: 60, y: 50 } },//3ºPOSICION\n            { origin: { x: 193, y: 5 }, size: { x: 60, y: 50 } },//4ºPOSICION\n            { origin: { x: 256, y: 5 }, size: { x: 60, y: 50 } },//5ºPOSICION\n            { origin: { x: 320, y: 5 }, size: { x: 60, y: 50 } },//6ºPOSICION\n            { origin: { x: 386, y: 5 }, size: { x: 60, y: 50 } },//7ºPOSICION\n            { origin: { x: 450, y: 5 }, size: { x: 60, y: 50 } },//8ºPOSICION\n            //-------------\n\n            //{ src_origin: { x: 450, y: 5 }, size: { x: 60, y: 50 } },\n        ];\n        if (this.origin.x > 0 || this.origin.x < 500) {\n            let i = Math.floor(this.frame_count * 5);\n            let frame = Mariana_frames_andar_derc[i % Mariana_frames_andar_derc.length];\n            let scale = 1;\n            ctx.drawImage(\n                this.mariana_img_derc,//.mariana_img_izq,//\n                frame.origin.x,\n                frame.origin.y,\n                frame.size.x,\n                frame.size.y,\n                this.origin.x,//variable x\n                this.origin.y,// variable de la y para mover a Mariana al dsuelo\n                frame.size.x * scale,\n                frame.size.y * scale\n            );\n        }\n        if (this.mariana_img_derc) {\n            // https://developer.mozilla.org/es/docs/Web/API/CanvasRenderingContext2D/drawImage\n            let i = Math.floor(this.frame_count * 5);\n            let frame = Mariana_frames_andar_derc[i % Mariana_frames_andar_derc.length];\n            let scale = 1;\n            ctx.drawImage(\n                this.mariana_img_derc,//this.mariana_img_izq,//\n                frame.origin.x,\n                frame.origin.y,\n                frame.size.x,//\n                frame.size.y,\n                this.origin.x,//variable x\n                this.origin.y,//variable Y mirar posicion que  le pongo en el map\n                frame.size.x * scale,\n                frame.size.y * scale\n            );\n        } else {\n            // Draw the super mario actor\n            ctx.fillStyle = \"red\";\n            ctx.fillRect(0, 0, 10, 10);\n        }\n        ctx.restore();\n        this.frame_count += delta;// se ve a maraiana anda\n        let direction = 0;\n        if (this.speed != 0 && this.speed < 0) { direction = 180 }\n    }\n    keyboard_event(key: string) {\n\n        if (key == \"ArrowRight\") {\n            console.log(\"right\");\n            this.origin.x = (this.origin.x + this.speed);\n        } else if (key == \"ArrowLeft\") {\n            console.log(\"left\");\n            this.origin.x = (this.origin.x - this.speed);\n        } else if (key == \"ArrowUp\" && this.saltando == false) {\n            console.log(\"Up\");\n            this.origin.y = 350\n            this.saltando = true;\n        } else if (key == \"ArrowDown\") {\n            console.log(\"Down\");\n        } else if (key == \" \") {\n            console.log(\"salta, hollaaaaa\");\n            this.origin.y = (this.origin.y - this.speed);\n            this.saltando = true\n        }\n    }\n    keyboard_event_up(key: string) {//add\n        switch (key) {\n            case \" \":\n                console.log(\"saltando\");\n                break;\n        }\n    }\n\n}\n\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('6qpDd') + require('./helpers/bundle-manifest').resolve(\"llezD\");","import { IActor, Actor, Size } from \"./types/Actor\";\nimport { Point } from \"./types/Point\";\nimport { Mariana } from \"./Mariana\";\nimport goomba_sprites from \"../img/goomba.png\";\nexport class actorEvil extends Actor implements IActor {\n    origin: Point;\n    color: string;\n    speed: number;\n    saltando: boolean;\n    altura?: number;\n    actor: any;\n    goomba_img: HTMLImageElement;// definir que es\n    frame_count = 0;\n    constructor(initialPos: Point, color: string, actor: any/*cambiar el any*/) {\n        super();\n        this.origin = { x: initialPos.x, y: initialPos.y };\n        this.color = color;\n        this.speed = 1;\n        this.actor = actor;//add  this.origin = { x: initialPos.x, y: initialPos.y };de mi actor mariana\n        this.saltando = false;\n        //this.altura = 500;\n        this.goomba_img = new Image();\n        this.goomba_img.src = goomba_sprites;\n    }\n    update() {\n        this.origin.x -= this.speed\n        this.origin.y = 410//tocar para cambiar altura de goomba\n        let actorPos = this.actor.origin;\n\n\n        let myPos = this.origin;\n        let distance = Math.sqrt(Math.pow(myPos.x - this.actor.origin.x, 2) + Math.pow(myPos.y - this.actor.origin.y, 2));\n        console.log(distance);\n        //console.log(actorPos);\n        if (distance <= 26 /*&& this.actor.origin.y >= 380*/) { alert(\" Game Over \") }//distancia que chocan 26\n    }\n    keyboard_event() { }\n    draw(delta: number, ctx: CanvasRenderingContext2D) {\n        const goomba_frames = [\n            //Movimiento Andar a la derecho\n            { origin: { x: 0, y: 5 }, size: { x: 60, y: 50 } },// 1ºPOSICION\n            { origin: { x: 66, y: 5 }, size: { x: 60, y: 50 } },//2ºPOSICION\n            //{ origin: { x: 128, y: 5 }, size: { x: 60, y: 50 } },//3ºPOSICION\n\n        ];\n        if (this.origin.x > 0 || this.origin.x < 500) {\n            let i = Math.floor(this.frame_count * 5);\n            let frame = goomba_frames[i % goomba_frames.length];\n            let scale = 1 / 2;\n            ctx.drawImage(\n                this.goomba_img,//.mariana_img_izq,//\n                frame.origin.x,\n                frame.origin.y,\n                frame.size.x,\n                frame.size.y,\n                this.origin.x,//variable x\n                this.origin.y,// variable de la y para mover a Mariana al dsuelo\n                frame.size.x * scale,\n                frame.size.y * scale\n            );\n        }\n        if (this.goomba_img) {\n            // https://developer.mozilla.org/es/docs/Web/API/CanvasRenderingContext2D/drawImage\n            let i = Math.floor(this.frame_count * 5);\n            let frame = goomba_frames[i % goomba_frames.length];\n            let scale = 1 / 2;\n            ctx.drawImage(\n                this.goomba_img,//this.mariana_img_izq,//\n                frame.origin.x,\n                frame.origin.y,\n                frame.size.x,//\n                frame.size.y,\n                this.origin.x,//variable x\n                this.origin.y,//variable Y mirar posicion que  le pongo en el map\n                frame.size.x * scale,\n                frame.size.y * scale\n            );\n        } else {\n            // Draw the super mario actor\n            ctx.fillStyle = \"red\";\n            ctx.fillRect(0, 0, 10, 10);\n        }\n        ctx.restore();\n        this.frame_count += delta;// se ve a maraiana anda\n    }\n\n    //---------------------------\n    /* let origin = this.origin;//add salto\n     ctx.fillStyle = this.color;\n     ctx.fillRect(origin.x, origin.y, 10, 10);*/\n    // Controlamos la dirección del Mariana\n    //let direction = 0;\n    //if (this.speed.x != 0 && this.speed.x < 0) {direction = 180}\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('6qpDd') + require('./helpers/bundle-manifest').resolve(\"KA0Rm\");","\nimport { Actor, IActor } from \"./types/Actor\";\nconst esc = require(\"../img/fondo_mario.jpg\")\n\nexport class Map extends Actor implements IActor {\n  draw(delta: number, ctx: CanvasRenderingContext2D) {\n    const background = new Image();\n    background.src = esc;\n\n    ctx.drawImage(background, 0, 80);\n  }\n  update(delta: number): void { }\n  keyboard_event() { }\n}\n\n","import { Actor, IActor } from \"./types/Actor\";\nimport { Point } from \"./types/Point\";\nimport { FPSviewer } from \"./FPSviewer\";\nimport { Mariana } from \"./Mariana\";\nimport { actorEvil } from \"./actorEvil\";\nimport { Map } from \"../src/Map\";\nwindow.onload = () => {\n\n\n    var canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    var ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n    let fps = new FPSviewer({ x: 5, y: 15 }, \"black\");\n    let mariana = new Mariana({ initialPos: { x: 1, y: 384 }, color: \"purple\", speed: 10 });//Mariana\n    let escenario = new Map();\n\n\n    let actors: Array<IActor> = [\n        escenario,\n        fps,\n        mariana,\n        new actorEvil({ x: 500, y: 410 }, \"red\", mariana),// malo\n\n        //new actorEvil({ x: 500, y: 490 }, \"blue\", mariana),// malo\n        //new actorEvil({ x: 500, y: 490 }, \"grey\", speed = 0.5, mariana),// malo\n    ];\n    actors.forEach((a) => a.initialize && a.initialize());//para los sprites\n    //tengo que crear un array de actores evil donde les meto el actor mariana \n\n\n    //bucle de renderizado\n    let lastFrame = 0;\n    const render = (time: number) => {\n\n        let delta = (time - lastFrame) / 1000;\n        lastFrame = time;\n        actors.forEach(e => e.update(delta));\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        actors.forEach((e) => {\n            ctx.save();//add\n            e.draw(delta, ctx);\n            ctx.restore();//add\n        });\n\n        window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n\n    document.body.addEventListener(\"keydown\", (e) => {\n        actors.forEach((actor) => { actor.keyboard_event(e.key) });\n    });\n\n    /*document.body.addEventListener(\"keydown\", (e) => {\n        // console.log(e.key);\n        actors.forEach((actor) => {\n            if (actor.keyboard_event_down) {\n                actor.keyboard_event_down(e.key);\n            }\n        });\n    });*/\n\n    document.body.addEventListener(\"keyup\", (e) => {\n        // console.log(e.key);\n        actors.forEach((actor) => {\n            if (actor.keyboard_event_up) {\n                actor.keyboard_event_up(e.key);\n            }\n        });\n    });\n\n}\n"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$c2f1b17ab47188d2$export$f73d3eb6fd876d80","contructor","origin","this","update","delta","draw","delta1","ctx","keyboard_event","key","$502dbf953f8de01c$export$c2add218418bab48","position","color","super","fps","toFixed","font","fillStyle","fillText","x","y","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$3e62386a0a8889b4$exports","getBundleURL","resolve","$f5470880e11d0c0d$export$dfffcd368a0c33a2","initialPos","speed","frame_count","saltando","altura","mariana_img_derc","Image","src","$parcel$interopDefault","newPosX","newPosY","initialize","Mariana_frames_andar_derc","size","frame","Math","floor","scale","drawImage","fillRect","restore","direction","console","log","keyboard_event_up","key1","$a995272df8aa0bff$exports","$5ef15e0738b87499$export$e550015ad0cf97e2","actor","goomba_img","myPos","distance","sqrt","pow","alert","goomba_frames","$045670fbd725758b$exports","$84f0d518b1ccd1d6$export$a5c7b93649eaf8f8","background","window","onload","canvas","document","getElementById","getContext","mariana","actors","forEach","a","lastFrame","render","time","e","clearRect","width","height","save","requestAnimationFrame","body","addEventListener"],"version":3,"file":"index.e29929a2.js.map"}